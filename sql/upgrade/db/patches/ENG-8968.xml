<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="ENG-8968-01" author="mdaly">
        <comment>Update panel names for H14 and H27. ce_text field for CS2 H27 is in below in ENG-8968-03</comment>
        <update schemaName="prodlims"
                tableName="panel">
            <column name="description" value="27 (Pan-ethnic medium)"/>
            <column name="ce_text" value="Horizon 27 (PAN-ETHNIC MEDIUM)"/>
            <where>`name` = 'H27' AND `DTYPE` = 'HorizonLDTPanel'</where>
        </update>
        <update schemaName="prodlims"
                tableName="panel">
            <column name="description" value="Horizon 27 (Pan-ethnic medium)"/>
            <where>`name` LIKE 'H\__' AND `DTYPE` = 'HorizonPanel'</where>
        </update>
        <update schemaName="prodlims"
                tableName="panel">
            <column name="description" value="14 (Pan-ethnic standard)"/>
            <column name="ce_text" value="Horizon 14 (PAN-ETHNIC STANDARD)"/>
            <where>`name` = 'H14' AND `DTYPE` = 'HorizonLDTPanel'</where>
        </update>

        <rollback>
            <update schemaName="prodlims"
                    tableName="panel">
                <column name="description" value="27 (Pan-ethnic standard)"/>
                <column name="ce_text" value="Horizon 27 (PAN-ETHNIC STANDARD)"/>
                <where>`name` = 'H27' AND `DTYPE` = 'HorizonLDTPanel'</where>
            </update>
            <update schemaName="prodlims"
                    tableName="panel">
                <column name="description" value="Horizon 27 (Pan-ethnic standard)"/>
                <where>`name` LIKE 'H\__' AND `DTYPE` = 'HorizonPanel'</where>
            </update>
            <update schemaName="prodlims"
                    tableName="panel">
                <column name="description" value="14 (Pan-ethnic Basic)"/>
                <column name="ce_text" value="Horizon 14 (PAN-ETHNIC BASIC)"/>
                <where>`name` = 'H14' AND `DTYPE` = 'HorizonLDTPanel'</where>
            </update>
        </rollback>
    </changeSet>
    <changeSet id="ENG-8968-02" author="mdaly">
        <comment>Update H27 panel name for HL7</comment>
        <update schemaName="prodlims"
                tableName="horizoncustompanel">
            <column name="ce_text" value="Horizon 27 (PAN-ETHNIC MEDIUM)"/>
            <where>`ce_id` = 'HCS_27'</where>
        </update>

        <rollback>
            <update schemaName="prodlims"
                    tableName="horizoncustompanel">
                <column name="ce_text" value="Horizon 27 (PAN-ETHNIC STANDARD)"/>
                <where>`ce_id` = 'HCS_27'</where>
            </update>
        </rollback>
    </changeSet>
    <changeSet id="ENG-8968-03" author="mdaly">
        <comment>Missed the ce_text for CS2 H27 and all both field for the (unused) polyT panel</comment>
        <update schemaName="prodlims"
                tableName="panel">
            <column name="ce_text" value="Horizon 27 (PAN-ETHNIC MEDIUM)"/>
            <where>`name` LIKE 'H\__' AND `DTYPE` = 'HorizonPanel'</where>
        </update>
        <update schemaName="prodlims"
                tableName="panel">
            <column name="description" value="Horizon 27 (Pan-ethnic medium)"/>
            <column name="ce_text" value="Horizon 27 (PAN-ETHNIC MEDIUM)"/>
            <where>`name` IN ('H_POLYT_M', 'H_POLYT_F') AND `DTYPE` = 'HorizonPanel'</where>
        </update>
        <rollback>
            <update schemaName="prodlims"
                    tableName="panel">
                <column name="ce_text" value="Horizon 27 (PAN-ETHNIC STANDARD)"/>
                <where>`name` LIKE 'H\__' AND `DTYPE` = 'HorizonPanel'</where>
            </update>
            <update schemaName="prodlims"
                    tableName="panel">
                <column name="description" value="Horizon 27 (Pan-ethnic standard)"/>
                <column name="ce_text" value="Horizon 27 (PAN-ETHNIC STANDARD)"/>
                <where>`name` IN ('H_POLYT_M', 'H_POLYT_F') AND `DTYPE` = 'HorizonPanel'</where>
            </update>
        </rollback>
    </changeSet>
</databaseChangeLog>
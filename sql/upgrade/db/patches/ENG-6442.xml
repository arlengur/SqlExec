<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="ENG-6442-01" author="dchettupuzha">
        <comment>Create table for storing gender information</comment>
        <sql>
            create table `prodlims`.`casefile_genderinfo` (
            `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
            `casefile_id` BIGINT(20) NOT NULL,
            `dmd1_gender` VARCHAR(255) DEFAULT 'UNKNOWN',
            `dmd2_gender` VARCHAR(255) DEFAULT 'UNKNOWN',
            `sma_gender` VARCHAR(255) DEFAULT 'UNKNOWN',
            `hba_gender` VARCHAR(255) DEFAULT 'UNKNOWN',
            `ngs_gender` VARCHAR(255) DEFAULT 'UNKNOWN',
            `mismatch_ngs` BOOLEAN DEFAULT FALSE,
            `mismatch_mlpa` BOOLEAN DEFAULT FALSE,
            PRIMARY KEY (`id`),
            KEY `FK_CASEFILE_ID_idx` (`casefile_id`),
            CONSTRAINT `FK_CASEFILE_ID_idx` FOREIGN KEY (`casefile_id`) REFERENCES `casefile` (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=latin1;
        </sql>

        <rollback>
            DROP TABLE `prodlims`.`casefile_genderinfo`;
        </rollback>
    </changeSet>
</databaseChangeLog>